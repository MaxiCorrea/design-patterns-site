"use strict";(globalThis.webpackChunkdesign_patterns_site=globalThis.webpackChunkdesign_patterns_site||[]).push([[7696],{8181(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"patterns/command","title":"Command","description":"Command encapsula una intenci\xf3n de negocio como un objeto para poder:","source":"@site/docs/patterns/command.md","sourceDirName":"patterns","slug":"/patterns/command","permalink":"/design-patterns-site/docs/patterns/command","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":17,"frontMatter":{"title":"Command","sidebar_position":17},"sidebar":"tutorialSidebar","previous":{"title":"Iterator","permalink":"/design-patterns-site/docs/patterns/iterator"},"next":{"title":"Memento","permalink":"/design-patterns-site/docs/patterns/memento"}}');var a=i(4848),r=i(8453);const o={title:"Command",sidebar_position:17},l=void 0,t={},d=[{value:"\xbfSe usa hoy en arquitectura hexagonal?",id:"se-usa-hoy-en-arquitectura-hexagonal",level:2},{value:"C\xf3mo se implementa hoy (vs GoF)",id:"c\xf3mo-se-implementa-hoy-vs-gof",level:2},{value:"Anti-ejemplo t\xedpico \u274c",id:"anti-ejemplo-t\xedpico-",level:2},{value:"Reemplazo (si existe)",id:"reemplazo-si-existe",level:2},{value:"Ejemplo",id:"ejemplo",level:2},{value:"Regla de oro",id:"regla-de-oro",level:2},{value:"Frase final",id:"frase-final",level:2},{value:"Ver video",id:"ver-video",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Command"})," encapsula una intenci\xf3n de negocio como un objeto para poder:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"desacoplar qui\xe9n pide de qui\xe9n ejecuta,"}),"\n",(0,a.jsx)(n.li,{children:"aplicar cross-cutting (retry, async, logging, m\xe9tricas, seguridad),"}),"\n",(0,a.jsx)(n.li,{children:"y cambiar c\xf3mo se ejecuta sin tocar el caso de uso."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\ud83d\udc49 No encapsula l\xf3gica compleja, encapsula la ejecuci\xf3n."}),"\n",(0,a.jsx)(n.h2,{id:"se-usa-hoy-en-arquitectura-hexagonal",children:"\xbfSe usa hoy en arquitectura hexagonal?"}),"\n",(0,a.jsx)(n.p,{children:"S\xed, pero no como en GoF"}),"\n",(0,a.jsx)(n.p,{children:"En hexagonal moderna:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Command vive en Application"}),"\n",(0,a.jsx)(n.li,{children:"Es un input message del sistema"}),"\n",(0,a.jsxs)(n.li,{children:["Se combina con:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"CommandBus"}),"\n",(0,a.jsx)(n.li,{children:"Middlewares"}),"\n",(0,a.jsx)(n.li,{children:"Infra async (Kafka, SQS, DB queue)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\ud83d\udc49 No es obligatorio, es una herramienta t\xe1ctica, no un dogma."}),"\n",(0,a.jsx)(n.h2,{id:"c\xf3mo-se-implementa-hoy-vs-gof",children:"C\xf3mo se implementa hoy (vs GoF)"}),"\n",(0,a.jsx)(n.p,{children:"GoF cl\xe1sico"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Invoker"}),"\n",(0,a.jsx)(n.li,{children:"Receiver"}),"\n",(0,a.jsx)(n.li,{children:"Command"}),"\n",(0,a.jsx)(n.li,{children:"Undo / history"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Hoy (realidad 2026)"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Command = DTO inmutable"}),"\n",(0,a.jsx)(n.li,{children:"CommandHandler = Application Service"}),"\n",(0,a.jsx)(n.li,{children:"CommandBus = pipeline de ejecuci\xf3n"}),"\n",(0,a.jsx)(n.li,{children:"Decoradores / middlewares para cross-cutting"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\ud83d\udc49 Sin undo, sin invoker expl\xedcito, sin sobreingenier\xeda."}),"\n",(0,a.jsx)(n.h2,{id:"anti-ejemplo-t\xedpico-",children:"Anti-ejemplo t\xedpico \u274c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"class CreateOrderCommand {\n  void execute() {\n    repo.save(...)\n    email.send(...)\n    log.info(...)\n  }\n}\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u274c Command con l\xf3gica"}),"\n",(0,a.jsx)(n.p,{children:"\u274c Infra mezclada"}),"\n",(0,a.jsx)(n.p,{children:"\u274c Dif\xedcil de testear"}),"\n",(0,a.jsx)(n.p,{children:"\u274c Violaci\xf3n total de hexagonal"}),"\n",(0,a.jsx)(n.p,{children:"\ud83d\udc49 Eso es un UseCase mal disfrazado."}),"\n",(0,a.jsx)(n.h2,{id:"reemplazo-si-existe",children:"Reemplazo (si existe)"}),"\n",(0,a.jsx)(n.p,{children:"No hay reemplazo directo, hay alternativas seg\xfan el problema:"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Necesidad"}),(0,a.jsx)(n.th,{children:"Mejor opci\xf3n"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Caso simple"}),(0,a.jsx)(n.td,{children:"UseCase directo"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Async / retry"}),(0,a.jsx)(n.td,{children:"Command + Bus"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Orquestaci\xf3n"}),(0,a.jsx)(n.td,{children:"Application Service"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Eventos"}),(0,a.jsx)(n.td,{children:"Domain Events"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Pipelines"}),(0,a.jsx)(n.td,{children:"Chain / Middleware"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:"\ud83d\udc49 Command no reemplaza al UseCase, lo envuelve cuando hace falta."}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo",children:"Ejemplo"}),"\n",(0,a.jsxs)(n.p,{children:["\ud83d\udc49 Ver implementaci\xf3n completa en GitHub: ",(0,a.jsx)(n.a,{href:"https://github.com/MaxiCorrea/java-command",children:"https://github.com/MaxiCorrea/java-command"})]}),"\n",(0,a.jsx)(n.h2,{id:"regla-de-oro",children:"Regla de oro"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Si no necesit\xe1s cambiar c\xf3mo se ejecuta, no uses Command"})}),"\n",(0,a.jsx)(n.p,{children:"UseCase directo > Command innecesario"}),"\n",(0,a.jsx)(n.h2,{id:"frase-final",children:"Frase final"}),"\n",(0,a.jsx)(n.p,{children:"Command no es arquitectura, es palanca.\nUsala cuando necesit\xe1s fuerza, no por costumbre."}),"\n",(0,a.jsx)(n.h2,{id:"ver-video",children:"Ver video"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://www.youtube.com/watch?v=f7qozMI3YvU",children:(0,a.jsx)(n.img,{src:"https://img.youtube.com/vi/f7qozMI3YvU/0.jpg",alt:"Command in Java"})})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>l});var s=i(6540);const a={},r=s.createContext(a);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);