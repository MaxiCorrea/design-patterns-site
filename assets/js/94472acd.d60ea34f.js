"use strict";(globalThis.webpackChunkdesign_patterns_site=globalThis.webpackChunkdesign_patterns_site||[]).push([[7949],{3055(e,n,o){o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"patterns/decorator","title":"Decorator","description":"Decorator permite componer comportamiento de forma incremental, envolviendo un objeto con otros que implementan la misma abstracci\xf3n, para extender su comportamiento sin modificarlo ni heredar.","source":"@site/docs/patterns/decorator.md","sourceDirName":"patterns","slug":"/patterns/decorator","permalink":"/design-patterns-site/docs/patterns/decorator","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"Decorator","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Singleton","permalink":"/design-patterns-site/docs/patterns/singleton"},"next":{"title":"Proxy","permalink":"/design-patterns-site/docs/patterns/proxy"}}');var i=o(4848),a=o(8453);const t={title:"Decorator",sidebar_position:6},s=void 0,c={},l=[{value:"\xbfSe usa hoy en arquitectura hexagonal?",id:"se-usa-hoy-en-arquitectura-hexagonal",level:2},{value:"C\xf3mo se implementa hoy (vs GoF)",id:"c\xf3mo-se-implementa-hoy-vs-gof",level:2},{value:"Anti-ejemplo t\xedpico",id:"anti-ejemplo-t\xedpico",level:2},{value:"Reemplazo (si existe)",id:"reemplazo-si-existe",level:2},{value:"Ejemplo",id:"ejemplo",level:2},{value:"Regla de oro",id:"regla-de-oro",level:2},{value:"Frase final",id:"frase-final",level:2},{value:"Ver video",id:"ver-video",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Decorator"})," permite componer comportamiento de forma incremental, envolviendo un objeto con otros que implementan la misma abstracci\xf3n, para extender su comportamiento sin modificarlo ni heredar."]}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udc49 No es un patr\xf3n \u201ct\xe9cnico\u201d: es una herramienta de modelado."}),"\n",(0,i.jsx)(n.h2,{id:"se-usa-hoy-en-arquitectura-hexagonal",children:"\xbfSe usa hoy en arquitectura hexagonal?"}),"\n",(0,i.jsx)(n.p,{children:"S\xed, mucho \u2014 pero en dos niveles distintos:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"En Domain \u2192 cuando agrega reglas de negocio"}),"\n",(0,i.jsx)(n.li,{children:"En Infrastructure \u2192 cuando agrega concerns t\xe9cnicos"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udccc El patr\xf3n es el mismo."}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udccc La capa depende del significado, no del nombre."}),"\n",(0,i.jsx)(n.h2,{id:"c\xf3mo-se-implementa-hoy-vs-gof",children:"C\xf3mo se implementa hoy (vs GoF)"}),"\n",(0,i.jsx)(n.p,{children:"GoF cl\xe1sico"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Clases abstractas"}),"\n",(0,i.jsx)(n.li,{children:"Herencia pesada"}),"\n",(0,i.jsx)(n.li,{children:"Ejemplos UI"}),"\n",(0,i.jsx)(n.li,{children:"Poco contexto arquitect\xf3nico"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Implementaci\xf3n moderna"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Interfaces o puertos"}),"\n",(0,i.jsx)(n.li,{children:"Composici\xf3n expl\xedcita"}),"\n",(0,i.jsx)(n.li,{children:"Decorators peque\xf1os y cohesionados"}),"\n",(0,i.jsx)(n.li,{children:"Wiring externo (infra / DI)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Test unitario por decorator"}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udc49 Hoy se usa como mecanismo de composici\xf3n, no como jerarqu\xeda."}),"\n",(0,i.jsx)(n.h2,{id:"anti-ejemplo-t\xedpico",children:"Anti-ejemplo t\xedpico"}),"\n",(0,i.jsx)(n.p,{children:"\u274c Decorator con l\xf3gica que no corresponde a su capa"}),"\n",(0,i.jsx)(n.p,{children:"\u274c Decorator con if/else por tipo"}),"\n",(0,i.jsx)(n.p,{children:"\u274c Decorator que instancia dependencias"}),"\n",(0,i.jsx)(n.p,{children:"\u274c Decorator usado para ordenar procesos"}),"\n",(0,i.jsx)(n.p,{children:"\u274c Decorator t\xe9cnico mezclado con negocio"}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udccc Eso no es Decorator: es acoplamiento encubierto."}),"\n",(0,i.jsx)(n.h2,{id:"reemplazo-si-existe",children:"Reemplazo (si existe)"}),"\n",(0,i.jsx)(n.p,{children:"No tiene reemplazo directo."}),"\n",(0,i.jsx)(n.p,{children:"Alternativas parciales:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Composite \u2192 cuando se modela estructura, no comportamiento"}),"\n",(0,i.jsx)(n.li,{children:"Strategy \u2192 cuando cambia el algoritmo base"}),"\n",(0,i.jsx)(n.li,{children:"AOP \u2192 cuando acept\xe1s magia y p\xe9rdida de control"}),"\n",(0,i.jsx)(n.li,{children:"Pipeline / Chain \u2192 cuando el orden es parte del negocio"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udc49 Si necesit\xe1s composici\xf3n expl\xedcita y evolutiva, Decorator sigue siendo la mejor opci\xf3n."}),"\n",(0,i.jsx)(n.h2,{id:"ejemplo",children:"Ejemplo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"PriceCalculator calculator =\n    new PromotionDiscountDecorator(\n        new MarketFeeDecorator(\n            new RiskAdjustmentDecorator(\n                new BasePriceCalculator()\n            )\n        )\n    );\n"})}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udccc Todos implementan PriceCalculator"}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udccc Cada decorator agrega una regla clara"}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udccc El caso de uso no sabe que est\xe1 decorado"}),"\n",(0,i.jsxs)(n.p,{children:["\ud83d\udc49 Ver implementaci\xf3n en GitHub: ",(0,i.jsx)(n.a,{href:"https://github.com/MaxiCorrea/java-decorator",children:"https://github.com/MaxiCorrea/java-decorator"})]}),"\n",(0,i.jsx)(n.h2,{id:"regla-de-oro",children:"Regla de oro"}),"\n",(0,i.jsx)(n.p,{children:"Decorator vive en la capa donde vive la raz\xf3n del cambio del comportamiento que agrega."}),"\n",(0,i.jsx)(n.p,{children:"Si cambia por negocio \u2192 domain"}),"\n",(0,i.jsx)(n.p,{children:"Si cambia por t\xe9cnica \u2192 infrastructure"}),"\n",(0,i.jsx)(n.h2,{id:"frase-final",children:"Frase final"}),"\n",(0,i.jsx)(n.p,{children:"Decorator no es para \u201cagregar cosas\u201d, es para modelar variaciones sin romper el core."}),"\n",(0,i.jsx)(n.h2,{id:"ver-video",children:"Ver video"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.youtube.com/watch?v=dGUrUx5ATL8",children:(0,i.jsx)(n.img,{src:"https://img.youtube.com/vi/dGUrUx5ATL8/0.jpg",alt:"Decorator en Java"})})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,o){o.d(n,{R:()=>t,x:()=>s});var r=o(6540);const i={},a=r.createContext(i);function t(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);