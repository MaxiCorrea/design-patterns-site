"use strict";(globalThis.webpackChunkdesign_patterns_site=globalThis.webpackChunkdesign_patterns_site||[]).push([[5800],{4411(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"patterns/chain-of-responsibility","title":"Chan Of Responsibility","description":"Chain of Responsibility permite encadenar pasos independientes que procesan una solicitud en orden, donde cada paso decide continuar o cortar, sin que el emisor conozca qui\xe9n ejecuta cada parte.","source":"@site/docs/patterns/chain-of-responsibility.md","sourceDirName":"patterns","slug":"/patterns/chain-of-responsibility","permalink":"/design-patterns-site/docs/patterns/chain-of-responsibility","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"title":"Chan Of Responsibility","sidebar_position":15},"sidebar":"tutorialSidebar","previous":{"title":"Observer","permalink":"/design-patterns-site/docs/patterns/observer"},"next":{"title":"Iterator","permalink":"/design-patterns-site/docs/patterns/iterator"}}');var r=i(4848),l=i(8453);const o={title:"Chan Of Responsibility",sidebar_position:15},a=void 0,t={},d=[{value:"\xbfSe usa hoy en arquitectura hexagonal?",id:"se-usa-hoy-en-arquitectura-hexagonal",level:2},{value:"C\xf3mo se implementa hoy (vs GoF)",id:"c\xf3mo-se-implementa-hoy-vs-gof",level:2},{value:"Anti-ejemplo t\xedpico",id:"anti-ejemplo-t\xedpico",level:2},{value:"Reemplazo (si existe)",id:"reemplazo-si-existe",level:2},{value:"Ejemplo (resumido)",id:"ejemplo-resumido",level:2},{value:"Regla de oro",id:"regla-de-oro",level:2},{value:"Frase final",id:"frase-final",level:2},{value:"Ver video",id:"ver-video",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Chain of Responsibility"})," permite encadenar pasos independientes que procesan una solicitud en orden, donde cada paso decide continuar o cortar, sin que el emisor conozca qui\xe9n ejecuta cada parte."]}),"\n",(0,r.jsx)(n.p,{children:"\ud83d\udc49 No modela el negocio."}),"\n",(0,r.jsx)(n.p,{children:"\ud83d\udc49 Modela la pol\xedtica de ejecuci\xf3n del negocio."}),"\n",(0,r.jsx)(n.h2,{id:"se-usa-hoy-en-arquitectura-hexagonal",children:"\xbfSe usa hoy en arquitectura hexagonal?"}),"\n",(0,r.jsx)(n.p,{children:"S\xed, pero no en el Domain."}),"\n",(0,r.jsx)(n.p,{children:"\u2714 Vive en:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"application"}),"\n",(0,r.jsx)(n.li,{children:"use cases"}),"\n",(0,r.jsx)(n.li,{children:"pipelines"}),"\n",(0,r.jsx)(n.li,{children:"flows"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u274c No vive en:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Entidades"}),"\n",(0,r.jsx)(n.li,{children:"Value Objects"}),"\n",(0,r.jsx)(n.li,{children:"Agregados"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"En Hexagonal:"}),"\n",(0,r.jsx)(n.p,{children:"El Chain orquesta reglas del dominio, no las contiene."}),"\n",(0,r.jsx)(n.h2,{id:"c\xf3mo-se-implementa-hoy-vs-gof",children:"C\xf3mo se implementa hoy (vs GoF)"}),"\n",(0,r.jsx)(n.p,{children:"GoF (cl\xe1sico)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Cada handler conoce al siguiente"}),"\n",(0,r.jsx)(n.li,{children:"L\xf3gica + control de flujo mezclados"}),"\n",(0,r.jsx)(n.li,{children:"Orientado a OO puro"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Hoy (industria real)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Chain como pipeline"}),"\n",(0,r.jsx)(n.li,{children:"Handlers peque\xf1os y sin l\xf3gica de negocio"}),"\n",(0,r.jsx)(n.li,{children:"Reglas delegadas al dominio"}),"\n",(0,r.jsx)(n.li,{children:"Ensamblado externo (factory / config)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Nombres tipo:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Step"}),"\n",(0,r.jsx)(n.li,{children:"Filter"}),"\n",(0,r.jsx)(n.li,{children:"Middleware"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\ud83d\udc49 El patr\xf3n se usa, pero no se nombra."}),"\n",(0,r.jsx)(n.h2,{id:"anti-ejemplo-t\xedpico",children:"Anti-ejemplo t\xedpico"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"if (validateStock(order)) {\n    if (checkFraud(order)) {\n        if (applyDiscount(order)) {\n            confirm(order);\n        }\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u274c Flujo r\xedgido"}),"\n",(0,r.jsx)(n.p,{children:"\u274c No extensible"}),"\n",(0,r.jsx)(n.p,{children:"\u274c Cambiar el orden rompe todo"}),"\n",(0,r.jsx)(n.p,{children:"\u274c No es testeable por partes"}),"\n",(0,r.jsx)(n.h2,{id:"reemplazo-si-existe",children:"Reemplazo (si existe)"}),"\n",(0,r.jsx)(n.p,{children:"No tiene un \u201creemplazo directo\u201d, pero alternativas seg\xfan el problema:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Necesidad"}),(0,r.jsx)(n.th,{children:"Mejor opci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Solo reglas"}),(0,r.jsx)(n.td,{children:"Specification"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Algoritmos distintos"}),(0,r.jsx)(n.td,{children:"Strategy"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Flujo fijo"}),(0,r.jsx)(n.td,{children:"Template Method"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Muchas reglas din\xe1micas"}),(0,r.jsx)(n.td,{children:"Rule Engine"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Estado complejo"}),(0,r.jsx)(n.td,{children:"State Machine"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"\ud83d\udc49 Chain se usa cuando el orden importa y puede cambiar."}),"\n",(0,r.jsx)(n.h2,{id:"ejemplo-resumido",children:"Ejemplo (resumido)"}),"\n",(0,r.jsx)(n.p,{children:"Order Processing Chain"}),"\n",(0,r.jsx)(n.p,{children:"\u2192 Stock Policy"}),"\n",(0,r.jsx)(n.p,{children:"\u2192 Fraud Policy"}),"\n",(0,r.jsx)(n.p,{children:"\u2192 VIP Discount"}),"\n",(0,r.jsx)(n.p,{children:"\u2192 Confirm Order"}),"\n",(0,r.jsx)(n.p,{children:"Cada paso ejecuta o falla"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"El dominio decide qu\xe9 es v\xe1lido"}),"\n",(0,r.jsx)(n.li,{children:"El Chain decide cu\xe1ndo se aplica"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 Ver implementaci\xf3n completa en GitHub: ",(0,r.jsx)(n.a,{href:"https://github.com/MaxiCorrea/java-chain-of-responsibility",children:"https://github.com/MaxiCorrea/java-chain-of-responsibility"})]}),"\n",(0,r.jsx)(n.h2,{id:"regla-de-oro",children:"Regla de oro"}),"\n",(0,r.jsx)(n.p,{children:"Si necesit\xe1s flags para saltear pasos, necesit\xe1s otra Chain."}),"\n",(0,r.jsx)(n.p,{children:"Y otra m\xe1s:"}),"\n",(0,r.jsx)(n.p,{children:"Si el Chain tiene l\xf3gica de negocio, est\xe1 mal ubicado."}),"\n",(0,r.jsx)(n.h2,{id:"frase-final",children:"Frase final"}),"\n",(0,r.jsx)(n.p,{children:"Chain of Responsibility no es un patr\xf3n de dominio.\nEs una herramienta para dise\xf1ar flujos que cambian sin romper el sistema."}),"\n",(0,r.jsx)(n.h2,{id:"ver-video",children:"Ver video"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://www.youtube.com/watch?v=hwH0LFyAr2U",children:(0,r.jsx)(n.img,{src:"https://img.youtube.com/vi/hwH0LFyAr2U/0.jpg",alt:"Chain of responsibility in Java"})})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>a});var s=i(6540);const r={},l=s.createContext(r);function o(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);